services:
  - type: web
    name: fanfic-hub
    env: node
    buildCommand: npm install
    startCommand: node server.js
    envVars:
      # Версия Node.js
      - key: NODE_VERSION
        value: 18.17.0
      
      # Порт
      - key: PORT
        value: 3000
      
      # Основные переменные
      - key: TELEGRAM_BOT_TOKEN
        sync: false
      
      - key: TELEGRAM_ADMIN_CHAT_ID
        sync: false
      
      - key: ADMIN_TOKEN
        sync: false
      
      - key: ADMIN_PASSWORD
        sync: false
      
      # Сайт URL
      - key: SITE_URL
        generateValue: true
      
      # Дополнительные настройки
      - key: NODE_ENV
        value: production
      
      - key: SESSION_SECRET
        generateValue: true
      
      - key: BCRYPT_SALT_ROUNDS
        value: "10"
    
    # Настройки инстанса
    instanceType: free
    numInstances: 1
    healthCheckPath: /ping
    autoDeploy: true
    
    # Дисковое пространство
    disk:
      name: fanfics-data
      mountPath: /opt/render/project/src
      sizeGB: 1
